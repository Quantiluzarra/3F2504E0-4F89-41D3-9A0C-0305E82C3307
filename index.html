<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–®–ò–§–†–û–¢–ï–ö–° - –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', 'Consolas', monospace;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
            color: #e0e0e0;
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        header {
            background: linear-gradient(90deg, #1a3a3a 0%, #0f2a2a 100%);
            border-bottom: 3px solid #00a884;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
            box-shadow: 0 4px 15px rgba(0, 168, 132, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }

        h1 {
            font-size: 28px;
            color: #00d4aa;
            text-transform: uppercase;
            letter-spacing: 3px;
            font-weight: bold;
        }

        .header-info {
            font-size: 11px;
            color: #00a884;
            text-align: right;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            background: #00d4aa;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Panel */
        .panel {
            background: linear-gradient(135deg, #1a1a1a 0%, #252525 100%);
            border: 1px solid #00a884;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 168, 132, 0.05);
        }

        .panel-title {
            color: #00d4aa;
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #00a884;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* Form Groups */
        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            color: #00a884;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        input[type="text"],
        input[type="password"],
        input[type="file"],
        textarea,
        select {
            width: 100%;
            padding: 10px 12px;
            background: #0f0f0f;
            border: 1px solid #00a884;
            color: #e0e0e0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            border-radius: 3px;
            transition: all 0.3s ease;
            resize: vertical;
        }

        input[type="text"]:focus,
        input[type="password"]:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: #00d4aa;
            box-shadow: 0 0 10px rgba(0, 212, 170, 0.2);
            background: #151515;
        }

        textarea {
            min-height: 120px;
            font-size: 11px;
            word-break: break-all;
        }

        /* Buttons */
        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        button {
            flex: 1;
            padding: 12px 16px;
            background: linear-gradient(135deg, #00a884 0%, #008c6e 100%);
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            min-width: 100px;
        }

        button:hover {
            background: linear-gradient(135deg, #00d4aa 0%, #00a884 100%);
            box-shadow: 0 0 15px rgba(0, 212, 170, 0.3);
            transform: translateY(-2px);
        }

        button:active {
            transform: translateY(0);
        }

        button.secondary {
            background: linear-gradient(135deg, #404040 0%, #2a2a2a 100%);
            color: #00d4aa;
        }

        button.secondary:hover {
            background: linear-gradient(135deg, #505050 0%, #3a3a3a 100%);
            box-shadow: 0 0 10px rgba(0, 212, 170, 0.2);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Two Column Button Layout */
        .button-group-2col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        /* Settings Panel */
        .settings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        /* Algorithm Selection */
        .algorithm-selection {
            background: #0f0f0f;
            border: 1px solid #00a884;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
        }

        .algo-option {
            display: flex;
            align-items: center;
            padding: 8px 0;
            cursor: pointer;
            font-size: 12px;
        }

        .algo-option input {
            margin-right: 10px;
            width: 16px;
            height: 16px;
            cursor: pointer;
            accent-color: #00d4aa;
        }

        .algo-option label {
            margin: 0;
            cursor: pointer;
        }

        /* Output Display */
        .output-display {
            background: #0a0a0a;
            border: 1px solid #00a884;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
            max-height: 150px;
            overflow-y: auto;
            font-size: 11px;
            word-break: break-all;
            color: #00d4aa;
            font-family: 'Courier New', monospace;
        }

        .output-display::-webkit-scrollbar {
            width: 8px;
        }

        .output-display::-webkit-scrollbar-track {
            background: #0f0f0f;
        }

        .output-display::-webkit-scrollbar-thumb {
            background: #00a884;
            border-radius: 4px;
        }

        /* Messages */
        .message {
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 3px;
            font-size: 12px;
            display: none;
        }

        .message.show {
            display: block;
        }

        .message.success {
            background: rgba(0, 212, 170, 0.1);
            border-left: 3px solid #00d4aa;
            color: #00d4aa;
        }

        .message.error {
            background: rgba(220, 100, 80, 0.1);
            border-left: 3px solid #dc6450;
            color: #ff9080;
        }

        .message.warning {
            background: rgba(255, 193, 7, 0.1);
            border-left: 3px solid #ffc107;
            color: #ffd54f;
        }

        /* Log Panel */
        .log-container {
            background: #0a0a0a;
            border: 1px solid #00a884;
            border-radius: 3px;
            padding: 12px;
            max-height: 200px;
            overflow-y: auto;
            font-size: 10px;
            color: #00a884;
            font-family: 'Courier New', monospace;
        }

        .log-entry {
            padding: 4px 0;
            border-bottom: 1px solid #1a3a3a;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .log-time {
            color: #008c6e;
            margin-right: 10px;
        }

        /* Key Display */
        .key-display {
            background: #0a0a0a;
            border: 1px solid #00a884;
            border-radius: 3px;
            padding: 12px;
            margin-bottom: 15px;
            word-break: break-all;
            font-size: 10px;
            color: #00d4aa;
            font-family: 'Courier New', monospace;
            max-height: 120px;
            overflow-y: auto;
        }

        /* Copy Button */
        .copy-btn {
            position: relative;
            padding: 8px 12px;
            font-size: 11px;
            min-width: auto;
        }

        /* Full Width */
        .full-width {
            grid-column: 1 / -1;
        }

        /* Tabs */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid #00a884;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 10px 20px;
            background: transparent;
            border: none;
            color: #00a884;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
            margin-bottom: -1px;
        }

        .tab-btn.active {
            color: #00d4aa;
            border-bottom-color: #00d4aa;
            background: rgba(0, 212, 170, 0.05);
        }

        .tab-btn:hover {
            color: #00d4aa;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            color: #008c6e;
            font-size: 11px;
            border-top: 1px solid #00a884;
            margin-top: 30px;
        }

        /* Utility */
        .row {
            display: flex;
            gap: 10px;
        }

        .row-half {
            flex: 1;
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 20px;
            }

            .main-grid {
                grid-template-columns: 1fr;
            }

            .settings-grid {
                grid-template-columns: 1fr;
            }

            .button-group-2col {
                grid-template-columns: 1fr;
            }
        }

        /* Animations */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.show {
            animation: slideIn 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <h1>‚öî –®–ò–§–†–û–¢–ï–ö–°</h1>
                <div class="header-info">
                    <p>–°–∏—Å—Ç–µ–º–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö</p>
                    <p style="font-size: 10px; margin-top: 5px;">v1.0 | –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ | –ë–µ–∑ –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä</p>
                </div>
                <div class="status">
                    <div class="status-indicator"></div>
                    <span>–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ</span>
                </div>
            </div>
        </header>

        <!-- Tabs Navigation -->
        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('encryption')">–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</button>
            <button class="tab-btn" onclick="switchTab('decryption')">–î–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</button>
            <button class="tab-btn" onclick="switchTab('keygen')">–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π</button>
            <button class="tab-btn" onclick="switchTab('settings')">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</button>
            <button class="tab-btn" onclick="switchTab('log')">–ñ—É—Ä–Ω–∞–ª –æ–ø–µ—Ä–∞—Ü–∏–π</button>
        </div>

        <!-- Messages -->
        <div id="successMsg" class="message success"></div>
        <div id="errorMsg" class="message error"></div>
        <div id="warningMsg" class="message warning"></div>

        <!-- Encryption Tab -->
        <div id="encryption-tab" class="tab-content active">
            <div class="main-grid">
                <div class="panel">
                    <div class="panel-title">üìù –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                    <div class="form-group">
                        <label for="plaintext">–¢–µ–∫—Å—Ç –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
                        <textarea id="plaintext" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ –¥–∞–Ω–Ω—ã–µ..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="encAlgorithm">–ê–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
                        <select id="encAlgorithm" onchange="updateKeyLengthDisplay()">
                            <option value="aes256">AES-256-GCM (256 –±–∏—Ç)</option>
                            <option value="aes192">AES-192-GCM (192 –±–∏—Ç)</option>
                            <option value="aes128">AES-128-GCM (128 –±–∏—Ç)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="encPassword">–ü–∞—Ä–æ–ª—å –∏–ª–∏ –∫–ª—é—á:</label>
                        <input type="password" id="encPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è...">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="showEncPassword"> –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å
                        </label>
                    </div>
                    <div class="button-group-2col">
                        <button onclick="generatePassword()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>
                        <button class="secondary" onclick="copyToClipboard('encPassword')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-title">üîê –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                    <div class="form-group">
                        <label>–†–µ–∑—É–ª—å—Ç–∞—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
                        <div class="output-display" id="encryptedOutput"></div>
                    </div>
                    <div class="form-group">
                        <label>–†–∞–∑–º–µ—Ä:</label>
                        <input type="text" id="encSize" readonly value="0 –±–∞–π—Ç">
                    </div>
                    <div class="button-group">
                        <button onclick="encryptData()">üîí –®–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
                        <button class="secondary" onclick="copyToClipboard('encryptedOutput')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="secondary" onclick="downloadData('encryptedOutput', 'encrypted.txt')">–°–∫–∞—á–∞—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Decryption Tab -->
        <div id="decryption-tab" class="tab-content">
            <div class="main-grid">
                <div class="panel">
                    <div class="panel-title">üîê –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                    <div class="form-group">
                        <label for="ciphertext">–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</label>
                        <textarea id="ciphertext" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="decPassword">–ü–∞—Ä–æ–ª—å –¥–ª—è –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
                        <input type="password" id="decPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å...">
                    </div>
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="showDecPassword"> –ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å
                        </label>
                    </div>
                    <div class="button-group">
                        <button onclick="decryptData()">üîì –î–µ—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-title">üìù –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</div>
                    <div class="form-group">
                        <label>–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è:</label>
                        <div class="output-display" id="decryptedOutput"></div>
                    </div>
                    <div class="form-group">
                        <label>–†–∞–∑–º–µ—Ä:</label>
                        <input type="text" id="decSize" readonly value="0 –±–∞–π—Ç">
                    </div>
                    <div class="button-group">
                        <button class="secondary" onclick="copyToClipboard('decryptedOutput')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="secondary" onclick="downloadData('decryptedOutput', 'decrypted.txt')">–°–∫–∞—á–∞—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Generation Tab -->
        <div id="keygen-tab" class="tab-content">
            <div class="main-grid">
                <div class="panel">
                    <div class="panel-title">üîë –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∫–ª—é—á–µ–π</div>
                    <div class="form-group">
                        <label for="keyType">–¢–∏–ø –∫–ª—é—á–∞:</label>
                        <select id="keyType" onchange="updateKeyGenUI()">
                            <option value="password">–ü–∞—Ä–æ–ª—å (AES)</option>
                            <option value="random">–°–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á (AES)</option>
                            <option value="hex">HEX –∫–ª—é—á (256 –±–∏—Ç)</option>
                            <option value="base64">Base64 –∫–ª—é—á (256 –±–∏—Ç)</option>
                        </select>
                    </div>
                    <div class="form-group" id="passwordLengthGroup">
                        <label for="passwordLength">–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è:</label>
                        <select id="passwordLength">
                            <option value="weak">–°–ª–∞–±—ã–π (16 —Å–∏–º–≤–æ–ª–æ–≤)</option>
                            <option value="medium">–°—Ä–µ–¥–Ω–∏–π (24 —Å–∏–º–≤–æ–ª–∞)</option>
                            <option value="strong" selected>–°–∏–ª—å–Ω—ã–π (32 —Å–∏–º–≤–æ–ª–∞)</option>
                            <option value="extreme">–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π (64 —Å–∏–º–≤–æ–ª–∞)</option>
                        </select>
                    </div>
                    <div class="form-group" id="charTypeGroup">
                        <label>–°–∏–º–≤–æ–ª—ã –≤ –ø–∞—Ä–æ–ª–µ:</label>
                        <div>
                            <label style="margin: 5px 0;">
                                <input type="checkbox" id="useUppercase" checked> –ü—Ä–æ–ø–∏—Å–Ω—ã–µ –±—É–∫–≤—ã (A-Z)
                            </label>
                        </div>
                        <div>
                            <label style="margin: 5px 0;">
                                <input type="checkbox" id="useLowercase" checked> –°—Ç—Ä–æ—á–Ω—ã–µ –±—É–∫–≤—ã (a-z)
                            </label>
                        </div>
                        <div>
                            <label style="margin: 5px 0;">
                                <input type="checkbox" id="useNumbers" checked> –¶–∏—Ñ—Ä—ã (0-9)
                            </label>
                        </div>
                        <div>
                            <label style="margin: 5px 0;">
                                <input type="checkbox" id="useSpecial" checked> –°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã (!@#$...)
                            </label>
                        </div>
                    </div>
                    <div class="button-group">
                        <button onclick="generateKey()">üîÑ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                </div>

                <div class="panel">
                    <div class="panel-title">üîê –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–ª—é—á</div>
                    <div class="form-group">
                        <label>–ö–ª—é—á:</label>
                        <div class="key-display" id="generatedKeyDisplay"></div>
                    </div>
                    <div class="form-group">
                        <label>–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</label>
                        <input type="text" id="keyLength" readonly placeholder="–î–ª–∏–Ω–∞ –∫–ª—é—á–∞">
                        <input type="text" id="keyEntropy" readonly placeholder="–≠–Ω—Ç—Ä–æ–ø–∏—è" style="margin-top: 8px;">
                    </div>
                    <div class="button-group">
                        <button class="secondary" onclick="copyToClipboard('generatedKeyDisplay')">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="secondary" onclick="downloadData('generatedKeyDisplay', 'key.txt')">–°–∫–∞—á–∞—Ç—å</button>
                        <button class="secondary" onclick="useGeneratedKey()">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="settings-tab" class="tab-content">
            <div class="panel">
                <div class="panel-title">‚öô –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã</div>
                <div class="main-grid">
                    <div>
                        <h3 style="color: #00d4aa; margin-bottom: 15px; font-size: 14px;">–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</h3>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="autoLog" checked> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="clearOnClose"> –û—á–∏—â–∞—Ç—å –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="confirmActions"> –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
                            </label>
                        </div>
                        <div class="form-group">
                            <label for="timeFormat">–§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤ –∂—É—Ä–Ω–∞–ª–µ:</label>
                            <select id="timeFormat">
                                <option value="iso">ISO 8601</option>
                                <option value="locale" selected>–õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <h3 style="color: #00d4aa; margin-bottom: 15px; font-size: 14px;">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</h3>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="autoClearClipboard"> –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –±—É—Ñ–µ—Ä–∞ (30 —Å–µ–∫)
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="showPasswords"> –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ä–æ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                            </label>
                        </div>
                        <div class="form-group">
                            <label>
                                <input type="checkbox" id="warnWeakPass" checked> –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å–ª–∞–±—ã—Ö –ø–∞—Ä–æ–ª—è—Ö
                            </label>
                        </div>
                        <div class="button-group">
                            <button class="secondary" onclick="clearAllData()">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
                            <button class="secondary" onclick="exportSettings()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel" style="margin-top: 20px;">
                <div class="panel-title">‚Ñπ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <p><strong>–í–µ—Ä—Å–∏—è:</strong> 1.0</p>
                        <p><strong>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</strong> Web Browser</p>
                        <p><strong>–†–µ–∂–∏–º:</strong> –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</p>
                    </div>
                    <div>
                        <p><strong>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã:</strong></p>
                        <p style="font-size: 11px; color: #008c6e;">‚Ä¢ AES-256-GCM, AES-192-GCM, AES-128-GCM</p>
                        <p style="font-size: 11px; color: #008c6e;">‚Ä¢ SHA-256, SHA-512 (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ)</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Log Tab -->
        <div id="log-tab" class="tab-content">
            <div class="panel">
                <div class="panel-title">üìã –ñ—É—Ä–Ω–∞–ª –æ–ø–µ—Ä–∞—Ü–∏–π</div>
                <div class="form-group">
                    <label>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π:</label>
                    <div class="log-container" id="logContainer">
                        <div style="color: #00a884; padding: 20px; text-align: center;">
                            –ñ—É—Ä–Ω–∞–ª –ø—É—Å—Ç. –û–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å.
                        </div>
                    </div>
                </div>
                <div class="button-group">
                    <button class="secondary" onclick="exportLog()">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∂—É—Ä–Ω–∞–ª</button>
                    <button class="secondary" onclick="clearLog()">–û—á–∏—Å—Ç–∏—Ç—å –∂—É—Ä–Ω–∞–ª</button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>–®–ò–§–†–û–¢–ï–ö–° ¬© 2025 | –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö</p>
        <p style="margin-top: 10px; font-size: 10px;">‚ö† –í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ù–∏–∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä.</p>
    </footer>

    <script>
        // ============================================
        // –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø –ò –ö–û–ù–°–¢–ê–ù–¢–´
        // ============================================

        const CONFIG = {
            autoLog: true,
            clearOnClose: false,
            confirmActions: true,
            autoClipboardClear: true,
            clipboardClearTimeout: 30000,
            timeFormat: 'locale'
        };

        let operationLog = [];
        let currentTab = 'encryption';

        // ============================================
        // –£–¢–ò–õ–ò–¢–´
        // ============================================

        function generateUUID() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c === 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        function getCurrentTime() {
            const now = new Date();
            if (CONFIG.timeFormat === 'iso') {
                return now.toISOString();
            }
            return now.toLocaleString('ru-RU');
        }

        function showMessage(type, text) {
            const msg = document.getElementById(`${type}Msg`);
            msg.textContent = text;
            msg.classList.add('show');
            
            setTimeout(() => {
                msg.classList.remove('show');
            }, 5000);
        }

        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            let text = '';

            if (element.tagName === 'TEXTAREA' || element.tagName === 'INPUT') {
                text = element.value;
            } else {
                text = element.textContent;
            }

            if (!text) {
                showMessage('warning', '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è');
                return;
            }

            navigator.clipboard.writeText(text).then(() => {
                showMessage('success', '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞');
                
                if (CONFIG.autoClipboardClear) {
                    setTimeout(() => {
                        navigator.clipboard.writeText('');
                    }, CONFIG.clipboardClearTimeout);
                }
            }).catch(err => {
                showMessage('error', '–û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏: ' + err.message);
            });
        }

        function downloadData(elementId, filename) {
            const element = document.getElementById(elementId);
            let text = '';

            if (element.tagName === 'TEXTAREA' || element.tagName === 'INPUT') {
                text = element.value;
            } else {
                text = element.textContent;
            }

            if (!text) {
                showMessage('warning', '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è');
                return;
            }

            const blob = new Blob([text], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            showMessage('success', '–§–∞–π–ª —Å–∫–∞—á–∞–Ω');
        }

        // ============================================
        // –ö–†–ò–ü–¢–û–ì–†–ê–§–ò–Ø
        // ============================================

        async function deriveKey(password, algorithm) {
            const enc = new TextEncoder();
            const data = enc.encode(password);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            
            const keyLength = algorithm === 'aes256' ? 32 : algorithm === 'aes192' ? 24 : 16;
            return new Uint8Array(hashBuffer).slice(0, keyLength);
        }

        async function encryptData() {
            const plaintext = document.getElementById('plaintext').value;
            const password = document.getElementById('encPassword').value;
            const algorithm = document.getElementById('encAlgorithm').value;

            if (!plaintext || !password) {
                showMessage('error', '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏ –ø–∞—Ä–æ–ª—å');
                return;
            }

            if (password.length < 8) {
                showMessage('warning', '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤');
                if (document.getElementById('warnWeakPass').checked) {
                    return;
                }
            }

            try {
                const key = await deriveKey(password, algorithm);
                const iv = crypto.getRandomValues(new Uint8Array(12));
                
                const encKey = await crypto.subtle.importKey('raw', key, 'AES-GCM', false, ['encrypt']);
                const enc = new TextEncoder();
                const data = enc.encode(plaintext);
                
                const encrypted = await crypto.subtle.encrypt(
                    { name: 'AES-GCM', iv: iv },
                    encKey,
                    data
                );

                const encryptedArray = new Uint8Array(encrypted);
                const combined = new Uint8Array(iv.length + encryptedArray.length);
                combined.set(iv);
                combined.set(encryptedArray, iv.length);

                const base64Result = btoa(String.fromCharCode.apply(null, combined));
                document.getElementById('encryptedOutput').textContent = base64Result;
                document.getElementById('encSize').value = `${base64Result.length} —Å–∏–º–≤–æ–ª–æ–≤`;

                logOperation('–®–ò–§–†–û–í–ê–ù–ò–ï', '–£—Å–ø–µ—à–Ω–æ', `–ê–ª–≥–æ—Ä–∏—Ç–º: ${algorithm}`);
                showMessage('success', '–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã');
            } catch (err) {
                logOperation('–®–ò–§–†–û–í–ê–ù–ò–ï', '–û—à–∏–±–∫–∞', err.message);
                showMessage('error', '–û—à–∏–±–∫–∞ –ø—Ä–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–∏: ' + err.message);
            }
        }

        async function decryptData() {
            const ciphertext = document.getElementById('ciphertext').value;
            const password = document.getElementById('decPassword').value;

            if (!ciphertext || !password) {
                showMessage('error', '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –∏ –ø–∞—Ä–æ–ª—å');
                return;
            }

            try {
                const combined = new Uint8Array(atob(ciphertext).split('').map(c => c.charCodeAt(0)));
                const iv = combined.slice(0, 12);
                const encryptedData = combined.slice(12);

                // –ü—ã—Ç–∞–µ–º—Å—è –¥–µ—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏ –∫–ª—é—á–µ–π
                const algorithms = ['aes256', 'aes192', 'aes128'];
                let decrypted = null;

                for (const algo of algorithms) {
                    try {
                        const key = await deriveKey(password, algo);
                        const encKey = await crypto.subtle.importKey('raw', key, 'AES-GCM', false, ['decrypt']);
                        
                        const decryptedData = await crypto.subtle.decrypt(
                            { name: 'AES-GCM', iv: iv },
                            encKey,
                            encryptedData
                        );

                        const dec = new TextDecoder();
                        decrypted = dec.decode(decryptedData);
                        break;
                    } catch (e) {
                        continue;
                    }
                }

                if (!decrypted) {
                    throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ');
                }

                document.getElementById('decryptedOutput').textContent = decrypted;
                document.getElementById('decSize').value = `${decrypted.length} —Å–∏–º–≤–æ–ª–æ–≤`;

                logOperation('–î–ï–®–ò–§–†–û–í–ê–ù–ò–ï', '–£—Å–ø–µ—à–Ω–æ', '–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã');
                showMessage('success', '–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã');
            } catch (err) {
                logOperation('–î–ï–®–ò–§–†–û–í–ê–ù–ò–ï', '–û—à–∏–±–∫–∞', err.message);
                showMessage('error', '–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–∏: ' + err.message);
            }
        }

        // ============================================
        // –ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–õ–Æ–ß–ï–ô
        // ============================================

        function generatePassword(length = 32) {
            const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowercase = 'abcdefghijklmnopqrstuvwxyz';
            const numbers = '0123456789';
            const special = '!@#$%^&*()_+-=[]{}|;:,.<>?';

            let chars = '';
            if (document.getElementById('useUppercase').checked) chars += uppercase;
            if (document.getElementById('useLowercase').checked) chars += lowercase;
            if (document.getElementById('useNumbers').checked) chars += numbers;
            if (document.getElementById('useSpecial').checked) chars += special;

            if (!chars) {
                showMessage('error', '–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–º–≤–æ–ª–æ–≤');
                return '';
            }

            let password = '';
            const array = new Uint32Array(length);
            crypto.getRandomValues(array);

            for (let i = 0; i < length; i++) {
                password += chars[array[i] % chars.length];
            }

            return password;
        }

        function generateKey() {
            const keyType = document.getElementById('keyType').value;
            let generatedKey = '';
            let entropy = 'N/A';

            try {
                if (keyType === 'password') {
                    const lengthMap = {
                        'weak': 16,
                        'medium': 24,
                        'strong': 32,
                        'extreme': 64
                    };
                    const length = lengthMap[document.getElementById('passwordLength').value];
                    generatedKey = generatePassword(length);
                    entropy = `${Math.log2(94 * length).toFixed(1)} –±–∏—Ç`;
                } else if (keyType === 'random') {
                    const lengthMap = {
                        'weak': 16,
                        'medium': 24,
                        'strong': 32,
                        'extreme': 64
                    };
                    const length = lengthMap[document.getElementById('passwordLength').value];
                    const array = crypto.getRandomValues(new Uint8Array(length));
                    generatedKey = Array.from(array)
                        .map(b => b.toString(16).padStart(2, '0'))
                        .join('');
                    entropy = '256 –±–∏—Ç';
                } else if (keyType === 'hex') {
                    const array = crypto.getRandomValues(new Uint8Array(32));
                    generatedKey = Array.from(array)
                        .map(b => b.toString(16).padStart(2, '0'))
                        .join('');
                    entropy = '256 –±–∏—Ç';
                } else if (keyType === 'base64') {
                    const array = crypto.getRandomValues(new Uint8Array(32));
                    generatedKey = btoa(String.fromCharCode.apply(null, array));
                    entropy = '256 –±–∏—Ç';
                }

                document.getElementById('generatedKeyDisplay').textContent = generatedKey;
                document.getElementById('keyLength').value = `${generatedKey.length} —Å–∏–º–≤–æ–ª–æ–≤`;
                document.getElementById('keyEntropy').value = entropy;

                logOperation('–ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–õ–Æ–ß–ê', '–£—Å–ø–µ—à–Ω–æ', `–¢–∏–ø: ${keyType}`);
                showMessage('success', '–ö–ª—é—á —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω');
            } catch (err) {
                logOperation('–ì–ï–ù–ï–†–ê–¶–ò–Ø –ö–õ–Æ–ß–ê', '–û—à–∏–±–∫–∞', err.message);
                showMessage('error', '–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–∞: ' + err.message);
            }
        }

        function generatePasswordHelper() {
            const password = generatePassword(32);
            document.getElementById('encPassword').value = password;
            showMessage('success', '–ü–∞—Ä–æ–ª—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω');
            logOperation('–ì–ï–ù–ï–†–ê–¶–ò–Ø –ü–ê–†–û–õ–Ø', '–£—Å–ø–µ—à–Ω–æ', '–í –ø–æ–ª–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è');
        }

        function useGeneratedKey() {
            const key = document.getElementById('generatedKeyDisplay').textContent;
            if (key) {
                document.getElementById('encPassword').value = key;
                showMessage('success', '–ö–ª—é—á –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤ –ø–æ–ª–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è');
            }
        }

        // ============================================
        // –õ–û–ì–ò–†–û–í–ê–ù–ò–ï
        // ============================================

        function logOperation(operation, status, details = '') {
            if (!CONFIG.autoLog) return;

            const logEntry = {
                id: generateUUID(),
                timestamp: getCurrentTime(),
                operation: operation,
                status: status,
                details: details
            };

            operationLog.push(logEntry);

            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 1000 –æ–ø–µ—Ä–∞—Ü–∏–π
            if (operationLog.length > 1000) {
                operationLog.shift();
            }

            updateLogDisplay();
        }

        function updateLogDisplay() {
            const logContainer = document.getElementById('logContainer');
            
            if (operationLog.length === 0) {
                logContainer.innerHTML = '<div style="color: #00a884; padding: 20px; text-align: center;">–ñ—É—Ä–Ω–∞–ª –ø—É—Å—Ç. –û–ø–µ—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å.</div>';
                return;
            }

            logContainer.innerHTML = operationLog.map(entry => `
                <div class="log-entry">
                    <span class="log-time">[${entry.timestamp}]</span>
                    <span style="color: #00d4aa;">${entry.operation}</span>
                    <span style="color: ${entry.status === '–£—Å–ø–µ—à–Ω–æ' ? '#00d4aa' : '#ff9080'};">[${entry.status}]</span>
                    ${entry.details ? `<span style="color: #008c6e;"> - ${entry.details}</span>` : ''}
                </div>
            `).reverse().join('');

            logContainer.scrollTop = 0;
        }

        function exportLog() {
            const logText = operationLog.map(entry => 
                `[${entry.timestamp}] ${entry.operation} [${entry.status}] ${entry.details}`
            ).join('\n');

            const blob = new Blob([logText], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `log_${new Date().getTime()}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showMessage('success', '–ñ—É—Ä–Ω–∞–ª —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω');
        }

        function clearLog() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.')) {
                operationLog = [];
                updateLogDisplay();
                showMessage('success', '–ñ—É—Ä–Ω–∞–ª –æ—á–∏—â–µ–Ω');
            }
        }

        // ============================================
        // –£–ü–†–ê–í–õ–ï–ù–ò–ï –í–ö–õ–ê–î–ö–ê–ú–ò
        // ============================================

        function switchTab(tabName) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });

            // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(`${tabName}-tab`).classList.add('active');

            // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –Ω—É–∂–Ω–æ–π –∫–Ω–æ–ø–∫–µ
            event.target.classList.add('active');

            currentTab = tabName;
            logOperation('–ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï', '–£—Å–ø–µ—à–Ω–æ', `–í–∫–ª–∞–¥–∫–∞: ${tabName}`);
        }

        // ============================================
        // –£–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ê–°–¢–†–û–ô–ö–ê–ú–ò
        // ============================================

        function updateKeyGenUI() {
            const keyType = document.getElementById('keyType').value;
            const passwordLengthGroup = document.getElementById('passwordLengthGroup');
            const charTypeGroup = document.getElementById('charTypeGroup');

            if (keyType === 'password') {
                passwordLengthGroup.style.display = 'block';
                charTypeGroup.style.display = 'block';
            } else {
                passwordLengthGroup.style.display = 'none';
                charTypeGroup.style.display = 'none';
            }
        }

        function updateKeyLengthDisplay() {
            const algo = document.getElementById('encAlgorithm').value;
            const lengthMap = {
                'aes256': '256 –±–∏—Ç',
                'aes192': '192 –±–∏—Ç–∞',
                'aes128': '128 –±–∏—Ç'
            };
            // –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –∞—Ç—Ä–∏–±—É—Ç–µ select
        }

        function clearAllData() {
            if (confirm('–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—á–∏—Å—Ç–∏—Ç –≤—Å–µ –ø–æ–ª—è –≤–≤–æ–¥–∞. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?')) {
                document.getElementById('plaintext').value = '';
                document.getElementById('encPassword').value = '';
                document.getElementById('ciphertext').value = '';
                document.getElementById('decPassword').value = '';
                document.getElementById('encryptedOutput').textContent = '';
                document.getElementById('decryptedOutput').textContent = '';
                document.getElementById('generatedKeyDisplay').textContent = '';
                
                showMessage('success', '–í—Å–µ –¥–∞–Ω–Ω—ã–µ –æ—á–∏—â–µ–Ω—ã');
                logOperation('–û–ß–ò–°–¢–ö–ê', '–£—Å–ø–µ—à–Ω–æ', '–í—Å–µ –ø–æ–ª—è –æ—á–∏—â–µ–Ω—ã');
            }
        }

        function exportSettings() {
            const settings = {
                autoLog: document.getElementById('autoLog').checked,
                clearOnClose: document.getElementById('clearOnClose').checked,
                confirmActions: document.getElementById('confirmActions').checked,
                autoClipboardClear: document.getElementById('autoClipboardClear').checked,
                warnWeakPass: document.getElementById('warnWeakPass').checked,
                timeFormat: document.getElementById('timeFormat').value
            };

            const blob = new Blob([JSON.stringify(settings, null, 2)], { type: 'application/json' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'settings.json';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            showMessage('success', '–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
        }

        // ============================================
        // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
        // ============================================

        document.addEventListener('DOMContentLoaded', function() {
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø–∞—Ä–æ–ª–µ–π
            document.getElementById('showEncPassword').addEventListener('change', function() {
                const field = document.getElementById('encPassword');
                field.type = this.checked ? 'text' : 'password';
            });

            document.getElementById('showDecPassword').addEventListener('change', function() {
                const field = document.getElementById('decPassword');
                field.type = this.checked ? 'text' : 'password';
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
            document.addEventListener('drop', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    const file = files[0];
                    const reader = new FileReader();
                    
                    reader.onload = function(event) {
                        const content = event.target.result;
                        
                        if (currentTab === 'encryption') {
                            document.getElementById('plaintext').value = content;
                            showMessage('success', '–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –≤ –ø–æ–ª–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è');
                        } else if (currentTab === 'decryption') {
                            document.getElementById('ciphertext').value = content;
                            showMessage('success', '–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω –≤ –ø–æ–ª–µ –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è');
                        }
                        
                        logOperation('–ó–ê–ì–†–£–ó–ö–ê –§–ê–ô–õ–ê', '–£—Å–ø–µ—à–Ω–æ', file.name);
                    };
                    
                    reader.readAsText(file);
                }
            });

            document.addEventListener('dragover', function(e) {
                e.preventDefault();
                e.stopPropagation();
            });

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            updateKeyGenUI();
            logOperation('–ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø', '–£—Å–ø–µ—à–Ω–æ', '–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ');

            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ input
            const fileInput = document.createElement('input');
            fileInput.type = 'file';
            fileInput.accept = '.txt,.enc,.key';
            fileInput.style.display = 'none';
            fileInput.addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const content = event.target.result;
                        if (currentTab === 'encryption') {
                            document.getElementById('plaintext').value = content;
                        } else if (currentTab === 'decryption') {
                            document.getElementById('ciphertext').value = content;
                        }
                        showMessage('success', '–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω');
                        logOperation('–ó–ê–ì–†–£–ó–ö–ê –§–ê–ô–õ–ê', '–£—Å–ø–µ—à–Ω–æ', file.name);
                    };
                    reader.readAsText(file);
                }
            });
            document.body.appendChild(fileInput);
        });

        // –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
        function generatePassword() {
            generatePasswordHelper();
        }
    </script>
</body>
</html>
